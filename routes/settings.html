<div class="page-header">
    <h2>Einstellungen</h2>
</div>

<article class="settings-section">
    <h4>Darstellung</h4>
    <label>
        <input type="checkbox" role="switch" @change="toggleTheme()"/>
        {{ theme === 'light' ? 'â˜€ï¸ Light Mode' : 'ğŸŒ™ Dark Mode' }}
    </label>
    <label>
        <input type="checkbox" role="switch" :checked="bubblesEnabled" @change="toggleBubbles()"/>
        ğŸ«§ Hintergrund-Animation
    </label>
</article>

<article class="settings-section">
    <hgroup>
        <h4>Synchronisierung</h4>
        <p>Synchronisiere deine Daten zwischen mehreren GerÃ¤ten Ã¼ber einen Server.</p>
    </hgroup>

    <div v-if="!syncEnabled">
        <div class="input-group">
            <label for="sync-server">Server-Adresse</label>
            <input type="text" id="sync-server" v-model="syncServerUrl" placeholder="ws://localhost:8080">
        </div>
        <button @click="enableSync()" :disabled="syncLoading">
            <span v-if="syncLoading">Verbinde...</span>
            <span v-else>Synchronisierung aktivieren</span>
        </button>
    </div>

    <div v-else>
        <p class="sync-status">
            <span v-if="syncConnected" class="status-connected">â— Verbunden</span>
            <span v-else class="status-disconnected">â—‹ Nicht verbunden</span>
        </p>
        <div class="settings-actions">
            <button class="secondary" @click="syncNow()" :disabled="!syncConnected">Jetzt synchronisieren</button>
            <button class="secondary outline" @click="disableSync()">Sync deaktivieren</button>
        </div>
    </div>
</article>

<article class="settings-section">
    <hgroup>
        <h4>Rezepte verwalten</h4>
        <p>Hier kannst du Backups erstellen und wiederherstellen. Beim Import werden keine bestehenden Rezepte gelÃ¶scht, sondern nur neue hinzugefÃ¼gt.</p>
    </hgroup>
    <div class="settings-actions">
        <button class="secondary" @click="exportRecipes()">Exportieren</button>
        <label class="secondary" role="button">
            Importieren
            <input type="file" accept=".json" @change="importRecipes($event)" hidden>
        </label>
    </div>
</article>

<article class="settings-section">
    <hgroup>
        <h4>Vorderinierte Rezepte</h4>
        <p>Hier kannst eine von uns getroffene Vorauswahl an Rezepten importieren. Beim Import werden keine bestehenden Rezepte gelÃ¶scht, sondern nur neue hinzugefÃ¼gt.</p>
    </hgroup>
    <button class="secondary" @click="loadDefaultRecipes()">Standardrezepte laden</button>
</article>

<article class="settings-section" v-if="canInstall">
    <hgroup>
        <h4>App installieren</h4>
        <p>Installiere die App auf deinem GerÃ¤t fÃ¼r schnelleren Zugriff und Offline-Nutzung.</p>
    </hgroup>
    <button @click="window.installApp()">App installieren</button>
</article>

<article class="settings-section danger-zone">
    <hgroup>
        <h4>Daten zurÃ¼cksetzen</h4>
        <p>Alle Rezepte und WochenplÃ¤ne werden unwiderruflich gelÃ¶scht.</p>
    </hgroup>
    <button class="secondary" @click="resetAllData()">Alle Daten lÃ¶schen</button>
</article>

<article class="settings-section">
    <h4>Ãœber die App</h4>
    <p>Kochplaner - Dein persÃ¶nlicher Wochenplaner fÃ¼r Mahlzeiten</p>
    <small>Version 1.0 | Offline-fÃ¤hig</small>
</article>
