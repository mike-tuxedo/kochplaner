<div class="page-header">
    <h2>Meine Rezepte</h2>
    <div class="page-header-actions">
        <button class="btn-icon" v-if="recipes.length !== 0" @click="showSuggestionDrawer()" title="Rezeptidee">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.3389 2.0088L12 4.00001C8.68631 4.00001 6.00003 6.68633 6 10C6 11.3842 6.46775 12.6914 7.31445 13.7481C7.39984 13.8546 8.12027 14.6007 8.23145 14.7217C9.22754 15.8063 9.84058 16.7984 9.97266 18H14.0273C14.1594 16.7985 14.7721 15.8065 15.7676 14.7227C15.8796 14.6007 16.5977 13.857 16.6836 13.75C17.5313 12.693 18 11.385 18 10L19.9902 9.66017C19.9949 9.77288 20 9.88614 20 10C20 11.8924 19.3426 13.6312 18.2441 15.001C17.6238 15.7744 16 17 16 18.5V21C16 22.1046 15.1046 23 14 23H10C8.89543 23 8 22.1046 8 21V18.5C7.99996 17 6.37453 15.7734 5.75391 14.999C4.65647 13.6296 4 11.8915 4 10C4.00003 5.58176 7.58174 2.00001 12 2.00001C12.1135 2.00001 12.2265 2.00411 12.3389 2.0088ZM10 21H14V20H10V21ZM17.5293 0.328369C17.7059 -0.0974062 18.2942 -0.0974181 18.4707 0.328369L18.7236 0.939698C19.1556 1.98249 19.9616 2.81521 20.9746 3.26587L21.6924 3.58521C22.1026 3.76803 22.1026 4.36522 21.6924 4.5481L20.9326 4.88599C19.9449 5.32526 19.1534 6.12849 18.7139 7.13696L18.4668 7.70239C18.2864 8.11652 17.7137 8.11652 17.5332 7.70239L17.2871 7.13696C16.8476 6.12833 16.0552 5.32531 15.0674 4.88599L14.3076 4.5481C13.8975 4.36524 13.8974 3.76801 14.3076 3.58521L15.0254 3.26587C16.0385 2.81521 16.8445 1.9825 17.2764 0.939698L17.5293 0.328369Z"></path></svg>
        </button>
        <button class="btn-icon" v-if="recipes.length !== 0" @click="showRecipeForm()" title="Neues Rezept">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"></path></svg>
        </button>
        <button class="btn-icon" @click="showSharePopup()" title="Teilen">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.1202 17.0228L8.92129 14.7324C8.19135 15.5125 7.15261 16 6 16C3.79086 16 2 14.2091 2 12C2 9.79086 3.79086 8 6 8C7.15255 8 8.19125 8.48746 8.92118 9.26746L13.1202 6.97713C13.0417 6.66441 13 6.33707 13 6C13 3.79086 14.7909 2 17 2C19.2091 2 21 3.79086 21 6C21 8.20914 19.2091 10 17 10C15.8474 10 14.8087 9.51251 14.0787 8.73246L9.87977 11.0228C9.9583 11.3355 10 11.6629 10 12C10 12.3371 9.95831 12.6644 9.87981 12.9771L14.0788 15.2675C14.8087 14.4875 15.8474 14 17 14C19.2091 14 21 15.7909 21 18C21 20.2091 19.2091 22 17 22C14.7909 22 13 20.2091 13 18C13 17.6629 13.0417 17.3355 13.1202 17.0228Z"></path></svg>
        </button>
    </div>
</div>

<!-- Keine Rezepte -->
<div v-if="recipes.length === 0" class="empty-state">
    <h3 class="mb-2">Füge dein erstes Lieblingsrezept hinzu!</h3>
    <p class="mt-2"><strong>Du kannst dir hier Rezeptideen holen</strong></p>
    <button class="secondary mt-1 mb-2" :class="{ outline: theme === 'dark' }" @click="showSuggestionDrawer()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.3389 2.0088L12 4.00001C8.68631 4.00001 6.00003 6.68633 6 10C6 11.3842 6.46775 12.6914 7.31445 13.7481C7.39984 13.8546 8.12027 14.6007 8.23145 14.7217C9.22754 15.8063 9.84058 16.7984 9.97266 18H14.0273C14.1594 16.7985 14.7721 15.8065 15.7676 14.7227C15.8796 14.6007 16.5977 13.857 16.6836 13.75C17.5313 12.693 18 11.385 18 10L19.9902 9.66017C19.9949 9.77288 20 9.88614 20 10C20 11.8924 19.3426 13.6312 18.2441 15.001C17.6238 15.7744 16 17 16 18.5V21C16 22.1046 15.1046 23 14 23H10C8.89543 23 8 22.1046 8 21V18.5C7.99996 17 6.37453 15.7734 5.75391 14.999C4.65647 13.6296 4 11.8915 4 10C4.00003 5.58176 7.58174 2.00001 12 2.00001C12.1135 2.00001 12.2265 2.00411 12.3389 2.0088ZM10 21H14V20H10V21ZM17.5293 0.328369C17.7059 -0.0974062 18.2942 -0.0974181 18.4707 0.328369L18.7236 0.939698C19.1556 1.98249 19.9616 2.81521 20.9746 3.26587L21.6924 3.58521C22.1026 3.76803 22.1026 4.36522 21.6924 4.5481L20.9326 4.88599C19.9449 5.32526 19.1534 6.12849 18.7139 7.13696L18.4668 7.70239C18.2864 8.11652 17.7137 8.11652 17.5332 7.70239L17.2871 7.13696C16.8476 6.12833 16.0552 5.32531 15.0674 4.88599L14.3076 4.5481C13.8975 4.36524 13.8974 3.76801 14.3076 3.58521L15.0254 3.26587C16.0385 2.81521 16.8445 1.9825 17.2764 0.939698L17.5293 0.328369Z"></path></svg>
        Rezeptidee
    </button>

    <p class="mt-2"><strong>Selber deine Rezepte anlegen</strong></p>
    <button class="mt-1 mb-2" :class="{ outline: theme === 'dark' }" @click="showRecipeForm()">Neues Rezept erstellen</button>

    <p class="mt-2"><strong>Oder von uns liebevoll vorbereitete Rezepte zum Starten laden</strong></p>
    <button :class="{ outline: theme === 'dark' }" @click="loadDefaultRecipes()">Standardrezepte laden</button>
</div>

<!-- Rezepte-Liste -->
<div v-if="recipes.length > 0" class="recipe-list">
    <article v-for="recipe in recipes" :key="recipe.id" class="recipe-card" :class="{ 'has-photo': recipe.photo }">
        <img v-if="recipe.photo" :src="recipe.photo" alt="" class="recipe-card-photo">
        <div class="recipe-card-content">
            <div class="recipe-header">
                <h4>{{ recipe.name }}</h4>
                <span class="recipe-meta">{{ recipe.ingredients.length }} Zutaten</span>
            </div>
            <p v-if="recipe.description" class="recipe-description">{{ recipe.description }}</p>
            <div class="actions">
                <button class="btn-small contrast" :class="{ outline: theme === 'dark' }" @click="editRecipe(recipe)">Bearbeiten</button>
                <button class="btn-small secondary" :class="{ outline: theme === 'dark' }" @click="deleteRecipe(recipe.id)">Löschen</button>
            </div>
        </div>
    </article>
</div>
